{% schema %}
{
  "name": "Custom Collection List",
  "tag": "section",
  "class": "section section-collection-list",
  "max_blocks": 15,
  "settings": [
    {
      "type": "text",
      "id": "button_label",
      "default": "Shop Now",
      "label": "Button Label"
    },
    {
      "type": "select",
      "id": "title_position",
      "options": [
        { "value": "top", "label": "Top" },
        { "value": "middle", "label": "Middle" },
        { "value": "bottom", "label": "Bottom" }
      ],
      "default": "bottom",
      "label": "Title Position"
    }
  ],
  "blocks": [
    {
      "type": "featured_collection",
      "name": "Featured Collection",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ]
    }
  ]
}
{% endschema %}

<div class="custom-collection-list">
  {% for block in section.blocks %}
    {% if block.settings.collection %}
      <div class="collection-card" style="background-image: url('{{ block.settings.collection.featured_image | img_url: 'large' }}');">
        <div class="collection-content {{ section.settings.title_position }}">
          <h3 class="collection-title">{{ block.settings.collection.title }}</h3>
          <a href="{{ block.settings.collection.url }}" class="collection-button">{{ section.settings.button_label }}</a>
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>

<style>
.custom-collection-list {
  display: grid;
  gap: 20px;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}
.collection-card {
  position: relative;
  background-size: cover;
  background-position: center;
  height: 300px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.collection-content {
  position: absolute;
  width: 100%;
  text-align: center;
  padding: 20px;
  background: rgba(0, 0, 0, 0.5);
  color: white;
}
.collection-content.top {
  top: 10px;
}
.collection-content.middle {
  top: 50%;
  transform: translateY(-50%);
}
.collection-content.bottom {
  bottom: 10px;
}
.collection-button {
  display: inline-block;
  margin-top: 10px;
  padding: 8px 16px;
  background: #fff;
  color: #000;
  text-decoration: none;
  border-radius: 4px;
}
</style>
